<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Inventory Logs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="./css/inventoryLogs.css">
</head>

<body>

<!-- üîê ENFORCE LOGIN + PAGE PERMISSIONS -->
<script src="./js/session-check.js"></script>
<script src="./js/permissions-check.js"></script>

<!-- =========================================================
     NAVIGATION (Unified App Navigation)
========================================================= -->
<nav class="nav">
  <a href="index.html" class="nav-link-left">Dashboard</a>
  <span class="nav-title">Inventory Logs</span>
  <a href="inventory.html" class="nav-link-right">Inventory</a>
</nav>

<main class="page">

  <!-- =========================================================
       KPI SUMMARY
  ========================================================== -->
  <section class="card">
    <h2 class="section-title"><span>üìä</span> Inventory Overview</h2>

    <div class="kpi-grid">
      <div class="kpi-item">
        <div class="kpi-label">Total Items</div>
        <div class="kpi-value" id="kpiTotalItems">-</div>
      </div>

      <div class="kpi-item critical">
        <div class="kpi-label">Critical</div>
        <div class="kpi-value" id="kpiCritical">-</div>
      </div>

      <div class="kpi-item low">
        <div class="kpi-label">Low</div>
        <div class="kpi-value" id="kpiLow">-</div>
      </div>

      <div class="kpi-item over">
        <div class="kpi-label">Overstock</div>
        <div class="kpi-value" id="kpiOver">-</div>
      </div>
    </div>
  </section>

  <!-- =========================================================
       CRITICAL & LOW LIST
  ========================================================== -->
  <section class="card">
    <h2 class="section-title"><span>‚ö†Ô∏è</span> Critical & Low Stock</h2>
    <div id="criticalList" class="critical-list">Loading‚Ä¶</div>
  </section>

  <!-- =========================================================
       ACTIVITY (LAST 7 DAYS)
  ========================================================== -->
  <section class="card">
    <h2 class="section-title"><span>üìÜ</span> Activity (Last 7 Days)</h2>
    <div id="activitySummary" class="activity-list">Loading‚Ä¶</div>
  </section>

  <!-- =========================================================
       LOCATION SUMMARY
  ========================================================== -->
  <section class="card">
    <h2 class="section-title"><span>üìç</span> Location Summary</h2>

    <table class="summary-table">
      <thead>
        <tr>
          <th>Location</th>
          <th>Items</th>
          <th>Low</th>
          <th>Critical</th>
        </tr>
      </thead>

      <tbody id="locationSummaryBody">
        <tr><td colspan="4">Loading‚Ä¶</td></tr>
      </tbody>
    </table>
  </section>

  <!-- =========================================================
       FILTERS + AUDIT LOG TABLE
  ========================================================== -->
  <section class="card">
    <h2 class="section-title"><span>üìë</span> Stock Movement Log</h2>

    <div class="filter-row">
      <input id="searchInput" type="text" placeholder="Search logs‚Ä¶">

      <select id="typeFilter">
        <option value="">All Actions</option>
        <option value="add">Add / Top-up</option>
        <option value="dec">Decrease</option>
        <option value="transfer">Transfer</option>
        <option value="delete">Delete</option>
      </select>

      <select id="locationFilter">
        <option value="">Loading‚Ä¶</option>
      </select>

      <select id="itemFilter">
        <option value="">Loading‚Ä¶</option>
      </select>
    </div>

    <table class="log-table">
      <thead>
        <tr>
          <th>Date / Time</th>
          <th>Action</th>
          <th>Item</th>
          <th>Location / Route</th>
          <th>Qty</th>
          <th></th>
        </tr>
      </thead>

      <tbody id="auditBody">
        <tr><td colspan="6">Loading‚Ä¶</td></tr>
      </tbody>
    </table>
  </section>

</main>

<!-- PAGE LOGIC -->
<script type="module" src="./js/inventoryLogs.js"></script>

</body>
</html>
